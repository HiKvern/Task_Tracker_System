<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Задача</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/css/basic_style.css">
</head>
<header th:class="${darkDesign} ? 'darkhead' : 'head'">
    <nav th:class="${darkDesign} ? 'darkhead' : 'head'">
        <a href="/task-tracker/" th:class="${darkDesign} ? 'darkhead' : 'head'">Главная</a>
        <a href="/profile" th:class="${darkDesign} ? 'darkhead' : 'head'">Профиль</a>
        <a href="/about" th:class="${darkDesign} ? 'darkhead' : 'head'">О сайте</a>
        <a href="/task-tracker/logout" th:class="${darkDesign} ? 'darkhead' : 'head'">Выйти</a>
    </nav>
</header>
<body th:class="${darkDesign} ? 'dark-mode' : ''">
<form action="/task-tracker/saveTask" method="post" th:object="${task}" th:class="${darkDesign} ? 'dark adaptform' : 'adaptform'">
    <input type="hidden" th:field="*{id}"/>
    <b>НАЗВАНИЕ</b><br> <input type="text" th:field="*{title}"/><br><div style="text-align: center; margin-bottom: 2%;"><span th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="error-message"></span></div><br>
    <b>ОПИСАНИЕ</b><br> <input type="text" th:field="*{description}"/><br><div style="text-align: center; margin-bottom: 2%;"><span th:if="${#fields.hasErrors('description')}" th:errors="*{description}" class="error-message"></span></div><br>
    <b>ДЕДЛАЙН</b><br> <input type="date" th:value="*{deadline}" id="deadline" name="deadline"/><br><div style="text-align: center; margin-bottom: 2%;"><span th:if="${#fields.hasErrors('deadline')}" th:errors="*{deadline}" class="error-message"></span></div><br>
    <span th:if="${task.ref_task==0}"><b>ПРИОРИТЕТ</b><br></span><input type="number" oninput="javascript: if (this.value.length > 3) this.value = this.value.slice(0, 3);" th:field="*{priority}" th:if="${task.ref_task==0}"/><br><div style="text-align: center; margin-bottom: 2%;"><span th:if="${#fields.hasErrors('priority') and task.ref_task==0}" th:errors="*{priority} " class="error-message"></span></div>
    <input type="hidden" th:field="*{priority}" th:if="${task.ref_task!=0}"/>
    <input type="hidden" th:field="*{category}"/>
    <input type="hidden" th:field="*{ref_task}"/>
    <input type="submit" value="СОХРАНИТЬ" class="marginsubmit"/>
</form>
</body>
</html>